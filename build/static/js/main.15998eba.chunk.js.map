{"version":3,"sources":["static/images/chatIcon.png","util.js","authentication/Signin.js","authentication/Signup.js","home/LeftNavbar.js","home/ChatNavbar.js","home/Chat.js","home/UserList.js","home/Avator.js","home/ChatList.js","home/home.js","profile/Account.js","utility/Timer.js","authentication/EmailVerify.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","formatTime","chatTime","fullDate","chatDate","Date","today","time","moment","getDay","format","timeDifference","now","getTime","getFullYear","lastActive","userStatus","user","lastSeen","filter","status","userEmail","email","lastSeenFromNow","fromNow","hasInternetConnection","showAlert","navigator","onLine","message","console","log","alert","Copyright","Typography","variant","color","align","href","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","width","height","margin","form","submit","SignIn","props","classes","history","useHistory","useState","setEmail","password","setPassword","error","setError","isLoading","setIsLoading","setData","e","a","preventDefault","baseUrl","process","option","method","url","data","axios","response","push","Container","component","maxWidth","Helmet","CssBaseline","className","Avatar","src","chatIcon","autoComplete","TextField","required","fullWidth","id","label","name","autoFocus","onChange","target","value","type","Grid","item","xs","style","Button","textTransform","onClick","container","to","Box","mt","backgroundColor","palette","secondary","main","SignUp","setName","phoneNo","setPhoneNo","password2","setPassword2","nameError","setNameError","emailError","setEmailError","phoneNoError","setPhoneNoError","passwordError","setpasswordError","password2Error","setPassword2Error","clearAllError","hasOnlySpace","isFormValid","phoneNumber","findErrorFromResponse","search","length","test","validatePhoneNumber","justify","root","flexGrow","menuButton","marginRight","position","title","LeftTopBar","anchorEl","setAnchorEl","redirectToSignInPage","setRedirectToSignInPage","pathname","state","owner","Paper","elevation","direction","Tooltip","placement","alt","profilePicUrl","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","localStorage","setItem","paddingLeft","textAlign","fontWeight","ChatTopBar","setLastSeen","fetchStatus","activeStatus","useEffect","interval","setInterval","clearInterval","isEmpty","sm","md","fontSize","ENDPOINT","socket","socketIOClient","marginBottom","bottomNavBar","message_list","Chat","setLoadMessage","messageSent","setMessageSent","messageGot","setMessageGot","handleSendMessage","element","document","getElementById","trim","messageObj","from","text","sendMessageToCloud","saveMessage","emit","on","token","getItem","disconnect","fetchMessage","params","skip","showChatBox","paddingTop","CircularProgress","ChatBox","messageList","handleScroll","resetMessageSent","resetMessageGot","bottom","placeholder","onKeyUp","key","IconButton","aria-label","maxScrollHeight","chatContainer","fetchForScroll","scrollTop","scrollHeight","previousMaxHeight","maxHeight","overflow","onScroll","date1","date2","previousDate","getMonth","printDate","filterMessageList","map","index","toString","date","justifyContent","borderStyle","padding","borderRadius","list","UserList","userList","Fragment","handleUser","Divider","StyledBadge","withStyles","badge","boxShadow","background","top","left","animation","border","content","transform","opacity","Badge","BadgeAvatar","overlap","anchorOrigin","vertical","horizontal","Message","substr","Hidden","smDown","localChatList","ChatList","useRef","chatList","setChatList","getUser","isActive","check","current","savedChatList","parsedChatList","JSON","parse","needToShowChatBox","newList","chat","addUserToChatList","fetchMessages","stringify","modifiedChatList","isEqual","setTimeout","zeroMinWidth","xsDown","Home","isChatShown","setIsChatShown","setUser","setOwner","setUserList","userListScrollIsLoading","setUserListScrollIsLoading","pageForUserList","setPageForUserList","setOpen","filterUserList","handleOwner","fetchUsers","accessToken","page","limit","headers","Authorization","currentUserList","newUserList","concat","location","profile","_id","undefined","Snackbar","autoHideDuration","clientHeight","handleScrollForUserList","marginLeft","paddingBottom","large","input","Profile","locationKeys","setLocationKeys","setProfile","profileData","listen","action","keys","EditProfile","useTheme","fullScreen","useMediaQuery","breakpoints","down","updatedProfile","setUpdatedProfile","selectedImage","setSelectedImage","isSaving","setIsSaving","saveData","setSaveData","setImage","handleSave","formData","FormData","append","updatedUser","Dialog","accept","multiple","event","files","img","URL","createObjectURL","htmlFor","onEdit","EditField","disabled","size","Timer","setTime","handleTime","EmailVerify","setDisabled","resendDisabled","setResendDisabled","id_otp","setId","otp","setOtp","timer","requestForotp","signup","statusText","letter","isDigit","App","setAccessToken","path","localUser","profilePic","exact","window","hostname","match","ReactDOM","render","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.15998eba.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import moment from 'moment';\n\nexport function isSameDate(date1, date2) {\n    return (date1.getDay() === date2.getDay()) &&\n           (date1.getMonth() === date2.getMonth()) && \n           (date1.getFullYear() === date2.getFullYear());\n    \n}\n\nexport function formatTime(chatTime, fullDate = false) {\n    const chatDate = new Date(chatTime);   \n    //const chatDate = new Date(2019, 9, 1);     \n    const today = new Date();\n    const time = moment(chatDate);\n\n    if (chatDate.getDay() === today.getDay()) {\n        if (fullDate === true) {\n            return 'Today ' + time.format('hh:mm a');\n        }\n        return time.format('hh:mm a');\n        \n    } \n\n    const timeDifference = (Date.now() - chatDate.getTime()) / ( 24 * 60 * 60 * 1000);\n\n    if (timeDifference < 7) {\n        return time.format('dddd hh:mm a');\n    }\n\n    if (chatDate.getFullYear() === today.getFullYear()) {\n        return time.format('MMM D hh:mm a');\n    }\n    return time.format('MMM D YYYY');\n}\n\nexport function lastActive(userStatus, user) {\n    //console.log(props.userStatus);\n    const curUserStatus = userStatus.filter((status) => status.userEmail === user.email);\n    const lastSeen = curUserStatus[0].lastSeen;\n    const lastSeenFromNow = moment(lastSeen).fromNow();\n    return 'Active ' + (lastSeenFromNow === 'a few seconds ago' ? 'now' : lastSeenFromNow);\n}\n\nexport function hasInternetConnection(showAlert = false) {\n    if (navigator.onLine) {\n        return true;\n    } else {\n        const message = 'Please check your network connection';\n        console.log(message);\n        if (showAlert)alert(message);\n        return false;\n    }\n}\n\nexport function isDigit(text) {\n    for(const letter of text) {\n        if (letter >= '0' && letter <= '9'){}\n        else return false;\n    }\n    return true;\n}","import React, { useState } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n\nimport axios from 'axios';\nimport { Helmet } from 'react-helmet';\nimport {\n    Link,\n    useHistory\n} from \"react-router-dom\";\n\nimport chatIcon from './../static/images/chatIcon.png';\nimport { hasInternetConnection } from './../util';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright Â© '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                Your Website\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        //backgroundColor: 'red',\n        width: theme.spacing(10),\n        height: theme.spacing(10),\n        margin: 'auto',\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nexport default function SignIn(props) {\n    const classes = useStyles();\n\n    const history = useHistory();\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const [user, setUser] = useState({});\n    const [data, setData] = useState({});\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n        if (!hasInternetConnection(true))return;\n        setError('');\n        \n        const baseUrl = `${process.env.REACT_APP_AUTH_BASEURL}/api/v1`;\n        const option = {\n            method: 'post',\n            url: `${baseUrl}/users/signin`,\n            data: {\n                email: email,\n                password: password\n            }\n        };\n\n        setPassword('');\n        setIsLoading(true);\n        try {\n            const response = await axios(option);\n            if (response.data) {\n                console.log(response.data);\n                setData(response.data);\n                setIsLoading(false);\n                history.push('/home', response.data);\n            }\n        } catch(error) {\n            console.log(error);\n            if(error.response) {\n                setError(error.response.data);\n            }\n            setIsLoading(false);\n        }\n    }\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <Helmet>\n                <title> Sign In</title>\n            </Helmet>\n            <CssBaseline />\n            <div className={classes.paper}>\n                <Avatar className={classes.avatar} src={chatIcon}/>\n                <Typography component=\"h1\" variant=\"h5\">\n                    Sign in\n                </Typography>\n                <form className={classes.form} autoComplete='off'>\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"email\"\n                        label=\"Email Address\"\n                        name=\"email\"\n                        autoFocus\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        name=\"password\"\n                        label=\"Password\"\n                        type=\"password\"\n                        id=\"password\"\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n                    { error && \n                        <Grid item xs={12}>\n                            <div style={{color: 'red'}}>{error}</div>\n                        </Grid>\n                    }\n                    {/* <FormControlLabel\n                        control={<Checkbox value=\"remember\" color=\"primary\" />}\n                        label=\"Remember me\"\n                    /> */}\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                        style={{textTransform: 'none'}}\n                        onClick={handleSubmit}\n                    >\n                        {   \n                            isLoading ? 'Singing In..' : 'Sign In'\n                        }\n                    </Button>\n                    <Grid container>\n                        {/* <Grid item xs>\n                            <Link href=\"#\" variant=\"body2\">\n                                Forgot password?\n                            </Link>\n                        </Grid> */}\n                        <Grid item style={{margin: 'auto'}}>\n                            <Link to=\"/signup\" variant=\"body2\">\n                                Don't have an account? Sign Up\n                            </Link>\n                        </Grid>\n                    </Grid>\n                </form>\n            </div>\n            <Box mt={8}>\n                <Copyright />\n            </Box>\n        </Container>\n    );\n}","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n\nimport axios from 'axios';\nimport { Helmet } from 'react-helmet';\n\nimport {\n    Link,\n    useHistory,\n} from \"react-router-dom\";\n\nimport { hasInternetConnection } from './../util';\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nexport default function SignUp() {\n    const classes = useStyles();\n\n    const history = useHistory();\n\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [phoneNo, setPhoneNo] = useState('');\n    const [password, setPassword] = useState('');\n    const [password2, setPassword2] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const [nameError, setNameError] = useState('');\n    const [emailError, setEmailError] = useState('');\n    const [phoneNoError, setPhoneNoError] = useState('');\n    const [passwordError, setpasswordError] = useState('');\n    const [password2Error, setPassword2Error] = useState('');\n    const [error, setError] = useState('');\n\n    const clearAllError = () => {\n        setNameError('');\n        setEmailError('');\n        setPhoneNoError('');\n        setpasswordError('');\n        setError('');\n    }\n\n    const hasOnlySpace = (value) => {\n        for(const letter of value) {\n            if(letter !== ' ')return false;\n        }\n        return true;\n    }\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n        if (!hasInternetConnection(true))return;\n\n        clearAllError();\n        if (isFormValid() === false) {\n            return;\n        }\n\n        const baseUrl = `${process.env.REACT_APP_AUTH_BASEURL}/api/v1`;\n        const data = {\n            name: name,\n            email: email,\n            phoneNumber: hasOnlySpace(phoneNo) ? ' ' : phoneNo,\n            password: password\n        };\n        const option = {\n            method: 'post',\n            url: `${baseUrl}/auth/account/verify`,\n            data: data,\n        };\n\n        setIsLoading(true);\n        try {\n            const response = await axios(option);\n            if (response.status === 200) {\n                setIsLoading(false);\n                history.push('/signup/email-verify', data);\n            }\n        } catch(error) {\n            console.log(error);\n            if(error.response.data) {\n                console.log(error.response.data);\n                findErrorFromResponse(error.response.data);\n                setError(error.response.data);\n            }\n            setIsLoading(false);\n        }\n    }\n\n    const findErrorFromResponse = (error) => {\n        if (error.search(/name/i) > -1) {\n            setNameError(error);\n        }\n        if (error.search(/email/i) > -1) {\n            setEmailError(error);\n        }\n        if (error.search(/phone/i) > -1) {\n            setPhoneNoError(error);\n        }\n    }\n\n    const validatePhoneNumber  = phoneNo => {\n        if (phoneNo === ' ')return true;\n        const regex = /^01[3456789]{1}[0-9]{8}$/;\n        return regex.test(phoneNo);\n    }\n\n    function isFormValid() {\n        if(name === '') {\n            setNameError('Name field is required');\n            return false;\n        }\n\n        if (email === '') {\n            setEmailError('Email field is required');\n            return false;\n        }\n        \n        if (phoneNo.length > 0) {\n            if (phoneNo.length !== 11) {\n                setPhoneNoError('Phone number must contain 11 digits');\n                return false;\n            } else if (!validatePhoneNumber(phoneNo)) {\n                setPhoneNoError('Phone number is invalid. A valid phone number should be in \"01712******\" format');\n                return false;\n            }\n        }\n\n        if(password === '') {\n            setpasswordError('Password field is required');\n            return false;\n        }\n\n        if (password !== password2) {\n            setError('Password does not match');\n            return false;\n        }\n        setError('');\n        return true;\n    }\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <Helmet>\n                <title>Sign Up</title>\n            </Helmet>\n            <CssBaseline />\n            <div className={classes.paper}>\n                <Typography component=\"h1\" variant=\"h5\">\n                    Sign up\n                </Typography>\n                <form className={classes.form} autoComplete='off'>\n                    <Grid container spacing={2}>\n                        <Grid item xs={12}>\n                            <TextField\n                                name=\"name\"\n                                value={name}\n                                variant=\"outlined\"\n                                error={nameError !== ''}\n                                required\n                                fullWidth\n                                id=\"name\"\n                                label=\"Name\"\n                                autoFocus\n                                onChange={(e) =>  {\n                                    setName(e.target.value);\n                                    if (e.target.value !== '')setNameError('');\n                                }}\n                            />\n                        </Grid>\n                        { nameError && \n                            <Grid item xs={12}>\n                                <div style={{color: 'red'}}>{nameError}</div>\n                            </Grid>\n                        }\n                        <Grid item xs={12}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={email}\n                                required\n                                error={emailError !== ''}\n                                fullWidth\n                                id=\"email\"\n                                label=\"Email Address\"\n                                name=\"email\"\n                                onChange={(e) => {\n                                    setEmail(e.target.value);\n                                    if(e.target.value !== '')setEmailError('');\n                                }}\n                            />\n                        </Grid>\n                        { emailError && \n                            <Grid item xs={12}>\n                                <div style={{color: 'red'}}>{emailError}</div>\n                            </Grid>\n                        }\n                        <Grid item xs={12}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={phoneNo}\n                                required = {false}\n                                error={phoneNoError !== ''}\n                                fullWidth\n                                id=\"phoneNo\"\n                                label=\"Phone Number\"\n                                name=\"phoneNo\"\n                                onChange={(e) => {\n                                    setPhoneNo(e.target.value);\n                                    if(e.target.value !== '')setPhoneNoError('');\n                                }}\n                            />\n                        </Grid>\n                        { phoneNoError && \n                            <Grid item xs={12}>\n                                <div style={{color: 'red'}}>{phoneNoError}</div>\n                            </Grid>\n                        }\n                        <Grid item xs={12}>\n                            <TextField\n                                variant=\"outlined\"\n                                required\n                                error={passwordError !== ''}\n                                fullWidth\n                                value={password}\n                                name=\"password\"\n                                label=\"Password\"\n                                type=\"password\"\n                                id=\"password\"\n                                onChange={(e) => {\n                                    setPassword(e.target.value);\n                                    if(e.target.value !== '')setpasswordError('');\n                                }}\n                            />\n                        </Grid>\n                        { passwordError && \n                            <Grid item xs={12}>\n                                <div style={{color: 'red'}}>{passwordError}</div>\n                            </Grid>\n                        }\n                        <Grid item xs={12}>\n                            <TextField\n                                variant=\"outlined\"\n                                required\n                                error={password2Error !== ''}\n                                fullWidth\n                                value={password2}\n                                name=\"password2\"\n                                label=\"Repeat your Password\"\n                                type=\"password\"\n                                id=\"password2\"\n                                onChange={(e) => {\n                                    setPassword2(e.target.value);\n                                    if(e.target.value !== '')setPassword2Error('');\n                                }}\n                            />\n                        </Grid>\n                        { error && \n                            <Grid item xs={12}>\n                                <div style={{color: 'red'}}>{error}</div>\n                            </Grid>\n                        }\n                    </Grid>\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.submit}\n                            style={{textTransform: 'none'}}\n                            onClick={handleSubmit}\n                        >\n                            {\n                                isLoading ? 'Signing Up..' : 'Sign Up'\n                            }\n                        </Button>\n                    <Grid container justify=\"flex-end\">\n                        <Grid item>\n                            <Link to=\"/signin\" variant=\"body2\">\n                                Already have an account? Sign in\n                            </Link>\n                        </Grid>\n                    </Grid>\n                </form>\n            </div>\n            {/* <Box mt={5}>\n                <Copyright />\n            </Box> */}\n        </Container>\n    );\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { Avatar } from '@material-ui/core';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport SettingsIcon from '@material-ui/icons/Settings';\n\nimport {\n    Redirect,\n    useHistory,\n} from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    paper: {\n        position: \"sticky\",\n    },\n    avatar: {\n        margin: theme.spacing(2),\n        flexGrow: 1,\n    },\n    title: {\n        flexGrow: 1,\n    },\n}));\n\nexport default function LeftTopBar(props) {\n    const classes = useStyles();\n\n    const history = useHistory();\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [redirectToSignInPage, setRedirectToSignInPage] = useState(false);\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const handleProfileClick = () => {\n        console.log('go to profile');\n        history.push('/profile', props.owner);\n    }\n\n    const handleLogout = () => {\n        console.log('user will logged out');\n        localStorage.setItem(`token-${props.owner.email}`, '');\n        localStorage.setItem(`chatList-${props.owner.email}`, null);\n        //localStorage.clear();\n        setRedirectToSignInPage(true);\n    }\n\n    if(redirectToSignInPage) {\n        return (\n            <Redirect\n                to={{\n                    pathname: '/signin',\n                    state: props.owner\n                }}\n            />    \n        )\n    }\n\n    return (\n        <div className={classes.root}>\n            <Paper \n                className={classes.paper} \n                elevation={1}\n            >\n                <Grid container direction=\"row\">\n                    <Grid item xs={4}>\n                        <Tooltip title={props.owner.name} placement=\"right\">\n                            <Avatar \n                                alt={props.owner.name} \n                                src={ `${process.env.REACT_APP_AUTH_BASEURL}/${props.owner.profilePicUrl}`}\n                            />\n                        </Tooltip>\n                    </Grid>\n                    <Grid item xs={4}>\n                        <Typography variant=\"h6\" className={classes.title}>\n                            Chats\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={4} style={{margin: 'auto'}}>\n                        <Button>\n                            <SettingsIcon\n                                color='primary'\n                                onClick = { (e) => setAnchorEl(e.currentTarget) }\n                            />\n                        </Button>\n                        <Menu\n                            id=\"simple-menu\"\n                            anchorEl={anchorEl}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}\n                        >\n                            <MenuItem onClick={ handleProfileClick }>Profile</MenuItem>\n                            <MenuItem onClick={ handleLogout }>Logout</MenuItem>\n                        </Menu>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </div>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { Avatar } from '@material-ui/core';\n\nimport axios from 'axios';\nimport {isEmpty} from \"lodash\";\n\nimport { lastActive } from '../util';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    paper: {\n        paddingLeft: theme.spacing(2),\n    },\n    avatar: {\n        margin: theme.spacing(2),\n        flexGrow: 1,\n    },\n    title: {\n        flexGrow: 1,\n        textAlign: 'left',\n        fontWeight: 'bold'\n    },\n}));\n\nexport default function ChatTopBar(props) {\n    const classes = useStyles();\n\n    const [lastSeen, setLastSeen] = useState('');\n\n    const fetchStatus = async (user = props.user) => {\n        const baseUrl = `${process.env.REACT_APP_CHAT_BASEURL}/api/v1`;\n        const option = {\n            method: 'GET',\n            url: `${baseUrl}/status/`,\n        };\n        try {\n            const response = await axios(option);\n            if (response.data) {\n                console.log('updated status received ', user);\n                const activeStatus = lastActive(response.data, user);\n                setLastSeen(activeStatus);      \n            }\n        } catch(error) {\n            console.log(error);\n        }\n    }\n\n    useEffect(() => {\n        fetchStatus(props.user);\n        const interval = setInterval(fetchStatus, 5000);\n\n        return () =>  {\n            setLastSeen('');\n            clearInterval(interval);\n        }\n\n    }, [props.user]);\n\n    if (isEmpty(props.user)) {\n        return <p></p>\n    }\n\n    return (\n        <div className={classes.root}>\n            <Paper \n                className={classes.paper} \n                elevation={1}\n            >\n                <Grid container direction=\"row\">\n                    <Grid item xs={3} sm={2} md={1}>\n                        <Avatar \n                            alt={props.user.name} \n                            src={props.user.profilePicUrl \n                                ? `${process.env.REACT_APP_AUTH_BASEURL}/${props.user.profilePicUrl}`\n                                : props.user.name\n                            }\n                        />\n                    </Grid>\n                    <Grid container item xs={9} sm={10} md={11} direction='col'> \n                        <Grid item xs={12}>\n                            <Typography className={classes.title}>\n                                {props.user.name}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Typography style={{fontSize: '12px'}}>\n                                { lastSeen }\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </div>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport IconButton from '@material-ui/core/IconButton';\nimport SendIcon from '@material-ui/icons/Send';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport socketIOClient from \"socket.io-client\";\nimport axios from 'axios';\nimport {isEmpty} from \"lodash\";\n\nimport { isSameDate, formatTime } from '../util';\nimport ChatTopBar from './ChatNavbar';\n\nconst ENDPOINT = `${process.env.REACT_APP_CHAT_BASEURL}`;\nconst socket = socketIOClient(ENDPOINT);\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        marginBottom: theme.spacing(0),\n    },\n    bottomNavBar: {\n        width: '100%',\n    }\n}));\n\nlet message_list = [];\n\nexport default function Chat(props) {\n    const classes = useStyles();\n\n    const [messageList, setMessageList] = useState([]);\n    const [updateMessage, setUpdateMessage] = useState(false);\n    const [loadMessage, setLoadMessage] = useState(Date.now());\n    const[messageSent, setMessageSent] = useState(false);\n    const [messageGot, setMessageGot] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    function handleSendMessage(e) {\n        e.preventDefault();\n        const element = document.getElementById('message');\n        const message = element.value.trim();\n        element.value = '';\n        if(isEmpty(message))return;\n\n        const messageObj = {\n            from: props.owner.email,\n            to: props.user.email,\n            text: message,\n            time: Date.now()\n        };\n    \n        sendMessageToCloud(messageObj);\n        setMessageSent(true);\n        saveMessage(messageObj);\n    }\n\n    function saveMessage(message) {\n        //setMessageList([...messageList, message]);\n        message_list.push(message);\n        setLoadMessage(Date.now());\n        console.log('message saved');\n    }\n\n    async function sendMessageToCloud(message) {\n        //const socket = socketIOClient(ENDPOINT);\n        //socket.send(message);\n        socket.emit('chat', message);\n    }\n\n    function handleMessageChange(e) {\n        const message = e.target.value;\n        if(e.key === 'Enter') {\n            handleSendMessage(e);\n            e.target.value = '';\n        }\n    }\n\n    useEffect(() => {\n        //const socket = socketIOClient(ENDPOINT);\n        socket.on('connect', () => {\n            const token = localStorage.getItem(`token-${props.owner.email}`);\n            console.log(`token key: token-${props.owner.email}, value: ${token}`);\n            socket.emit('token', token);\n        });\n\n        socket.on('chat', (data) => {\n            console.log('message received');\n            console.log(data);\n            if (data.to === props.owner.email) {\n                setMessageGot(true);\n                saveMessage(data);\n            }    \n        });\n\n        socket.on('heart-bit', (data) => {\n            console.log(data);\n            if (data.to === props.owner.email) {\n                saveMessage(data);\n            }    \n        });\n\n        setInterval(() => {\n            socket.emit('heart-bit', props.owner.email);\n        }, 20000);\n\n        return () => {\n            console.log('connect will be closed');\n            socket.disconnect();\n        }\n        \n    }, []);\n\n    const fetchMessage = async (from, to) => {\n        const option = {\n            method: 'get',\n            url: `${process.env.REACT_APP_CHAT_BASEURL}/api/v1/messages`,\n            params: {\n                from: from,\n                to: to,\n                skip: message_list.length\n            }\n        };\n        setIsLoading(true);\n        setError('');\n        try {\n            const response = await axios(option);\n            if (response.data) {\n                console.log(response.data);\n                //setMessageList([...response.data]);\n                message_list = [...response.data, ...message_list];\n                setLoadMessage(Date.now());\n                if (response.data.length === 0) {\n                    localStorage.setItem('noMoreData', 'true');\n                }\n                console.log(message_list.length);\n                //setPageForUserList(pageForUserList + 1);\n                setIsLoading(false);\n            }\n        } catch(error) {\n            console.log(error);\n            if(error.response) {\n                setError('something went wrong!');\n            }\n            setIsLoading(false);\n        }\n    }\n\n    useEffect(() => {\n        if (isEmpty(props.user)) {\n            console.log('user is empty');\n        } else {\n            console.log('fetchCalled');\n            message_list = [];\n            localStorage.setItem('maxScrollHeight', 0);\n            localStorage.setItem('fetchForScroll', 'false');\n            localStorage.setItem('noMoreData', 'false');\n            fetchMessage(props.owner.email, props.user.email);\n            console.log('fetch sesh');\n\n            return () => {\n                localStorage.setItem('fetchForScroll', 'false');\n                localStorage.setItem('noMoreData', 'false');\n            }\n        }\n    }, [props.user]);\n\n    /*if (isEmpty(props.user) && isEmpty(messageList)) {\n        return <p>...</p>\n    }*/\n\n    const showChatBox = (\n        <div>\n            {\n                \n                (isLoading === true)\n                     ? <div style={{textAlign: 'center', paddingTop: '30%'}}><CircularProgress/></div>\n                    : <ChatBox \n                        messageList = { message_list }\n                        owner = { props.owner }\n                        user = { props.user }\n                        handleScroll = { fetchMessage }\n                        messageSent = { messageSent }\n                        resetMessageSent = {() => setMessageSent(false)}\n                        messageGot = {messageGot}\n                        resetMessageGot = {() => setMessageGot(false)}\n                    />\n            }\n        </div>\n    );\n\n    if (isEmpty(props.user)) {\n        return <p></p>\n    };\n\n    return (\n        <div className={classes.root}>\n            <Grid \n                container \n                direction=\"col\" \n                spacing={1}\n            >\n                <Grid item xs={12} style={{marginTop: '0px'}}>\n                    {\n                        isEmpty(props.user) ? '' : <ChatTopBar user={props.user}/>  \n                    }\n                </Grid>\n                <Grid \n                    item \n                    xs={12} \n                    style={{paddingLeft: '16px'}}\n                >\n                   {showChatBox}\n                </Grid>\n                <Grid \n                    container \n                    item xs={12}\n                    style={{ \n                        position: 'fixed',\n                        bottom: '0',\n                        paddingLeft: '16px',\n                        marginBottom: '3px', \n                        width: '67%',\n                    }}\n                >\n                    <Grid item xs={11}>\n                        <TextField \n                            id=\"message\" \n                            placeholder='Type a message' \n                            variant=\"outlined\" \n                            fullWidth\n                            autoComplete='off'\n                            onKeyUp={handleMessageChange}\n                        />\n                    </Grid>\n                    <Grid item xs={1} style={{textAlign: 'left'}}>\n                        <IconButton \n                            aria-label=\"send\"\n                            style={{color: 'blue'}}\n                            onClick = {handleSendMessage}\n                        >\n                            <SendIcon \n                            />\n                        </IconButton>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </div>\n    );\n}\n\nfunction ChatBox(props) {\n    let maxScrollHeight = 0;\n\n    useEffect(() => {\n        const chatContainer = document.getElementById(\"chatBox\");\n        if (chatContainer) {\n            const fetchForScroll = localStorage.getItem('fetchForScroll');\n            //console.log(fetchForScroll);\n            console.log(props.messageGot);\n\n            if (props.messageSent === true || props.messageGot === true) {\n                chatContainer.scrollTop = chatContainer.scrollHeight;\n                props.resetMessageSent();\n                props.resetMessageGot();\n            } else if (fetchForScroll === 'false') {\n                chatContainer.scrollTop = chatContainer.scrollHeight;    \n            } else if (fetchForScroll === 'true') {\n                const previousMaxHeight = localStorage.getItem('maxScrollHeight');\n                chatContainer.scrollTop = chatContainer.scrollHeight;// It will give max scroll position\n                maxScrollHeight = chatContainer.scrollTop;\n                localStorage.setItem('maxScrollHeight', maxScrollHeight);\n                chatContainer.scrollTop = chatContainer.scrollTop - previousMaxHeight;\n\n                // handling no more data\n                if (localStorage.getItem('noMoreData') === 'true') {\n                    chatContainer.scrollTop = 0;\n                } \n            }\n        }\n\n        return () => {\n            props.resetMessageSent();\n            props.resetMessageGot();\n        }\n    });\n\n    function handleScroll(e) {\n        let element = e.target;\n        if (element.scrollTop > maxScrollHeight) {\n            maxScrollHeight = element.scrollTop;\n            localStorage.setItem('maxScrollHeight', maxScrollHeight);\n        }\n        // It has no more value to fetch\n        if (localStorage.getItem('noMoreData') === 'true') {\n            console.log('no more data');\n            return;\n        }\n\n        if (element.scrollTop === 0) {\n            console.log('scrolled to top');\n            localStorage.setItem('fetchForScroll', 'true');\n            props.handleScroll(props.owner.email, props.user.email);\n        }\n    }\n\n    function filterMessageList() {\n        const messageList = [];\n        let previousDate = null;\n        for(const message of props.messageList) {\n            if ((message.from === props.owner.email && message.to === props.user.email) \n            || (message.from === props.user.email && message.to === props.owner.email) ) {\n                if (previousDate === null) {\n                    messageList.push({...message, printDate: true});\n                } else if(isSameDate(new Date(previousDate), new Date(message.time)) === false) {\n                    messageList.push({...message, printDate: true});\n                }\n                messageList.push(message);\n                previousDate = message.time;\n            }\n        }\n        return messageList;\n    }\n\n    if(isEmpty(props.user) || props.messageList.length === 0) {\n        return(\n            <p></p>\n        );\n    }\n    const showDate = (date) => {\n        return (\n            <div style={{textAlign: 'center'}}>\n                {formatTime(date, true)}\n            </div>\n        )\n    }\n\n    return (\n        <div>\n            <Grid \n                id='chatBox'\n                container \n                direction=\"col\"\n                style={{ \n                    maxHeight: '80vh',\n                    overflow: 'auto',\n                }}\n                spacing={2} \n                onScroll={handleScroll}   \n            >\n                {/* <React.Fragment> */}\n                    {\n                        filterMessageList().map((message, index) => \n                            <Grid key={index.toString()} item xs={12}>\n                                {\n                                    message.printDate === true? showDate(message.time):\n                                    message.from !== props.owner.email\n                                        ? (\n                                            <Box \n                                                display=\"flex\"\n                                                justifyContent=\"flex-start\"\n                                                style={{width: '50%'}}\n                                            >   \n                                                <Tooltip title={formatTime(message.time)} placement=\"left\">\n                                                    <Box \n                                                        style={{\n                                                            backgroundColor: '#E8E8E8', \n                                                            borderStyle: 'hidden', \n                                                            padding: '8px',\n                                                            borderRadius: '5px'\n                                                        }}\n                                                    >\n                                                        {message.text}    \n                                                    </Box>\n                                                </Tooltip>\n                                            </Box>\n                                        )  : (\n                                            <Box \n                                                display=\"flex\"\n                                                justifyContent=\"flex-end\"\n                                                style={{marginRight: '32px'}}\n                                            >   \n                                                <Tooltip title={formatTime(message.time)} placement=\"left\">\n                                                    <Box\n                                                        style={{\n                                                            color: 'white',\n                                                            backgroundColor: '#0052cc', \n                                                            borderStyle: 'hidden', \n                                                            padding: '8px',\n                                                            borderRadius: '5px',\n                                                            maxWidth: '50%',\n                                                        }}\n                                                    >\n                                                        {message.text}\n                                                    </Box>\n                                                </Tooltip>\n                                            </Box>\n                                        )                  \n                                }\n                            </Grid>\n                        )\n                    }\n                {/* </React.Fragment> */}\n            </Grid>\n        </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Divider from '@material-ui/core/Divider';\nimport { Avatar } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    paper: {\n\n    },\n    avatar: {\n        margin: theme.spacing(2),\n        flexGrow: 1,\n    },\n    title: {\n        //flexGrow: 1,\n    },\n    list: {\n        marginTop: theme.spacing(1),\n    }\n}));\n\nexport default function UserList(props) {\n    const classes = useStyles();\n\n    if(props.userList.length === 0) {\n        return <p>loading...</p>\n    }\n\n    return (\n        <div className={classes.root}>\n            <Paper className={classes.paper} elevation={1}>\n                <Grid container direction=\"col\">\n                    <React.Fragment>\n                        {\n                            props.userList.map((user, index) => \n                                <Grid\n                                    key={index.toString()}\n                                    container\n                                    item \n                                    direction=\"row\" \n                                    className={classes.list}\n                                    style={{backgroundColor: '#f2f2f2'}}\n                                    onClick={() => { props.handleUser(user) }}\n                                >\n                                    <Grid item xs={3}>\n                                        <Avatar \n                                            alt={user.name} \n                                            src={user.profilePicUrl \n                                                ? `${process.env.REACT_APP_AUTH_BASEURL}/${user.profilePicUrl}`\n                                                : user.name\n                                            }\n                                        />\n                                    </Grid>\n                                    <Grid \n                                        item \n                                        xs={9} \n                                        style={{\n                                            margin: 'auto',\n                                        }}\n                                    >\n                                        <Box>\n                                            <Typography variant=\"inherit\">\n                                                {user.name}\n                                            </Typography>\n                                        </Box>\n                                    </Grid>\n                                </Grid>\n                            )\n                        }\n                    </React.Fragment>\n                </Grid>\n                <Divider />\n            </Paper>\n        </div>\n    );\n}\n","import React from 'react';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nconst StyledBadge = withStyles((theme) => ({\n  badge: {\n    backgroundColor: '#44b700',\n    color: '#44b700',\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n    '&::after': {\n      //position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '90%',\n      height: '90%',\n      borderRadius: '50%',\n      animation: '$ripple 1.2s infinite ease-in-out',\n      border: '1px solid currentColor',\n      content: '\"\"',\n    },\n  },\n  '@keyframes ripple': {\n    '0%': {\n      transform: 'scale(.8)',\n      opacity: 1,\n    },\n    '100%': {\n      transform: 'scale(2.4)',\n      opacity: 0,\n    },\n  },\n}))(Badge);\n\nconst SmallAvatar = withStyles((theme) => ({\n  root: {\n    width: 22,\n    height: 22,\n    border: `2px solid ${theme.palette.background.paper}`,\n  },\n}))(Avatar);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n}));\n\nexport default function BadgeAvatar(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <StyledBadge\n        overlap=\"circle\"\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n        variant=\"dot\"\n      >\n        <Avatar \n            alt={props.src.name} \n            src={props.src.profilePicUrl\n                ? `${process.env.REACT_APP_AUTH_BASEURL}/${props.src.profilePicUrl}`\n                : props.src.name\n            } \n        />\n      </StyledBadge>\n    </div>\n  );\n}","import React, { useState, useEffect, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Divider from '@material-ui/core/Divider';\nimport { Avatar } from '@material-ui/core';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Hidden from '@material-ui/core/Hidden';\n\nimport axios from 'axios';\nimport {isEmpty, isEqual } from \"lodash\"\nimport moment from 'moment';\n\nimport BadgeAvatar from './Avator';\nimport { lastActive } from '../util';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.paper\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    paper: {\n\n    },\n    avatar: {\n        margin: theme.spacing(2),\n        flexGrow: 1,\n    },\n    title: {\n        //flexGrow: 1,\n    },\n    list: {\n        marginTop: theme.spacing(1),\n        backgroundColor: '#f5f2ed',\n    }\n}));\n\nfunction Message(props) {\n    function formatTime(chatTime) {\n        const chatDate = new Date(chatTime);   \n        //const chatDate = new Date(2019, 9, 1);     \n        const today = new Date();\n        const time = moment(chatDate);\n    \n        if (chatDate.getDay() === today.getDay()) {\n            return time.format('hh:mm a');\n        } \n\n        const timeDifference = (Date.now() - chatDate.getTime()) / ( 24 * 60 * 60 * 1000);\n\n        if (timeDifference < 7) {\n            return time.format('ddd');\n        }\n\n        if (chatDate.getFullYear() === today.getFullYear()) {\n            return time.format('MMM D');\n        }\n        return time.format('MMM D YYYY');\n    }\n\n    return (\n        <Grid \n            container\n        >\n            <Grid item md={10}>\n                <Typography \n                    variant=\"subtitle2\"  \n                >\n                    { props.message.text.length <= 30\n                    ? props.message.text\n                    : props.message.text.substr(0, 30) + '...'\n            }\n                </Typography>\n            </Grid>\n            <Grid \n                item md={2} \n            >\n                <Hidden smDown>\n                    <Typography \n                        variant=\"subtitle2\"  \n                    >\n                        { formatTime(props.message.time) }\n                    </Typography>\n                </Hidden>\n            </Grid>\n        </Grid>\n    );\n}\n\nlet localChatList = [];\n\nexport default function ChatList(props) {\n    const classes = useStyles();\n    //let localChatList = [];\n    const userStatus = useRef([]);\n\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [chatList, setChatList] = useState([]);\n    //const [userStatus, setUserStatus] = useState([]);\n\n    useEffect(() => {\n        if (isEmpty(props.owner)) {\n            return;\n        }\n\n        const savedChatList = localStorage.getItem(`chatList-${props.owner.email}`);\n        const parsedChatList = JSON.parse(savedChatList);\n        console.log('parsedChatList: ', parsedChatList, typeof parsedChatList);\n\n        if (parsedChatList !== null) {\n            setChatList([...parsedChatList]);\n            if (props.needToShowChatBox && parsedChatList.length > 0)  {\n                props.handleUser(parsedChatList[0].to);\n            }\n        }\n    }, [props.owner]);\n\n    function getUser(email) {\n        const userList = props.userList.filter((user) => {\n            return user.email === email\n        });\n        //console.log('user: ', userList[0]);\n        return userList[0];\n    }\n\n    function isActive(user, check = false) {\n        if (userStatus.current.length === 0) {\n            console.log('length: ', userStatus.current.length);\n            return false;\n        }\n        const status = lastActive(userStatus.current, user);\n        console.log('status: ', status, check);\n        return status === 'Active now';\n    }\n\n    function addActiveStatusToChatList() {\n        return chatList.map((chat) => {\n            return {\n                ...chat,\n                activeStatus: isActive(chat.to)\n            }\n        });\n    }\n\n    useEffect(() => {\n        if (userStatus.current.length === 0) {\n            return;\n        }\n        const newList = addActiveStatusToChatList();\n        setChatList([...newList]);\n    }, [userStatus.current]);\n\n    const fetchStatus = async () => {\n        const baseUrl = `${process.env.REACT_APP_CHAT_BASEURL}/api/v1`;\n        const option = {\n            method: 'GET',\n            url: `${baseUrl}/status`,\n        };\n        try {\n            const response = await axios(option);\n            if (response.data) {\n                console.log(`updated status received for chat list`, response.data);\n                //setUserStatus([...response.data]);\n                userStatus.current = [...response.data];\n            }\n        } catch(error) {\n            console.log(error);\n        }\n    }\n\n    function addUserToChatList (chatList) {\n        return chatList.map((chat) => {\n            if (chat.to === props.owner.email) {\n                const user = getUser(chat.from);\n                return {\n                    ...chat,\n                    activeStatus: isActive(user, true),\n                    to: user,\n                }\n            } else {\n                const user = getUser(chat.to);\n                return {\n                    ...chat,\n                    text: 'You: ' + chat.text,\n                    activeStatus: isActive(user, true),\n                    to: user,\n                }\n            }\n        });\n    }\n\n    const fetchMessages = async () => {\n        const option = {\n            method: 'GET',\n            url: `${process.env.REACT_APP_CHAT_BASEURL}/api/v1/lastMessages`,\n            params: {\n                owner: JSON.stringify(props.owner),\n                userList: JSON.stringify(props.userList),\n                skip: 0\n            }\n        };\n        console.log(option);\n        \n        try {\n            const response = await axios(option);\n            if (response.data) {\n                const modifiedChatList = addUserToChatList(response.data);\n                if (isEqual(localChatList, modifiedChatList)) {\n                    console.log('no update for recent messages');\n                } else {\n                    console.log('update: ', );\n                    console.log(modifiedChatList);\n                    localChatList = modifiedChatList;\n                    setChatList([...modifiedChatList]);\n                    localStorage.setItem(`chatList-${props.owner.email}`, JSON.stringify(modifiedChatList));\n                    if (props.needToShowChatBox && modifiedChatList.length > 0)  {\n                        props.handleUser(modifiedChatList[0].to);\n                    }\n                }\n            }\n        } catch(error) {\n            console.log(error);\n            if(error.response) {\n                //setError('something went wrong!');\n            }\n        }\n    }\n\n    useEffect(() => {\n        fetchStatus();\n        const interval = setInterval(fetchStatus, 5000);\n\n        return () => clearInterval(interval);\n    }, []);\n\n    useEffect(() => {\n        if (props.userList.length === 0) {\n            console.log('no fetch');\n            return;\n        }\n        setTimeout(fetchMessages, 2000);\n        const interval = setInterval(() => fetchMessages(), 2000);\n\n        return () =>  {\n            //setChatList([]);\n            clearInterval(interval);\n        }\n    }, [props.userList]);\n\n    if (isLoading) {\n        return (\n            <div style={{textAlign: 'center'}}><CircularProgress/></div>\n        );\n    }\n\n    return (\n        <div className={classes.root}>\n            <Paper className={classes.paper} elevation={1}>\n                <Grid container direction=\"col\">\n                    <React.Fragment>\n                        {\n                            chatList.map((chat, index) => \n                                <Grid\n                                    key={index.toString()}\n                                    container\n                                    spacing = {1}\n                                    item \n                                    direction=\"row\" \n                                    className={classes.list}\n                                    onClick={() => { props.handleUser(chat.to)}}// It will show details chat\n                                >\n                                    {/* <Grid \n                                        item xs={6} sm={4} md={2} style={{padding: 'auto'}}\n                                    > \n                                        { chat.activeStatus === true\n                                            ? <BadgeAvatar src = {chat.to}/>\n                                            : <Avatar\n                                                alt={chat.to.name}\n                                                src={chat.to.profilePicUrl \n                                                    ? `http://localhost:3001/${chat.to.profilePicUrl}`\n                                                    : chat.to.name\n                                                }\n                                              />\n                                        }\n                                    </Grid> */}\n                                    {\n                                        chat.activeStatus \n                                        ?   <Grid item xs={6} sm={4} md={2}>\n                                                <BadgeAvatar src={chat.to}/>\n                                            </Grid>\n                                        :   <Grid\n                                                item xs={6} sm={4} md={2} \n                                                style={{padding: '8px'}}\n                                            >\n                                                <Avatar\n                                                    alt={chat.to.name}\n                                                    src={chat.to.profilePicUrl \n                                                        ? `${process.env.REACT_APP_AUTH_BASEURL}/${chat.to.profilePicUrl}`\n                                                        : chat.to.name\n                                                    }\n                                              />\n                                            </Grid>\n\n                                    }\n                                    <Grid \n                                        item \n                                        container \n                                        direction=\"col\" \n                                        xs={6} sm={8} md={10} \n                                        zeroMinWidth={true}\n                                    >\n                                        <Grid item xs={12}>\n                                            <Typography \n                                                variant=\"body1\"  \n                                                style={{fontWeight: 'bold'}}\n                                            >\n                                                {chat.to.name}\n                                            </Typography>\n                                        </Grid>\n                                        <Grid item xs={12}>\n                                            <Hidden xsDown>\n                                                <Message message = {chat}/>\n                                            </Hidden>\n                                        </Grid>\n                                    </Grid>\n                                </Grid>\n                            )\n                        }\n                    </React.Fragment>\n                </Grid>\n                <Divider/>\n            </Paper>\n        </div>\n    );\n}","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\n\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\nimport {isEmpty} from \"lodash\";\nimport { Helmet } from 'react-helmet';\n\nimport LeftTopBar from './LeftNavbar';\nimport Chat from './Chat';\nimport UserList from './UserList';\nimport ChatList from './ChatList';\nimport { hasInternetConnection } from './../util';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: theme.spacing(0),\n        maxHeight: '100%'\n    },\n    paper: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    list: {\n        marginTop: theme.spacing(0),\n        maxHeight: '85vh',\n        overflow: 'auto',\n    },\n    option: {\n        marginTop: theme.spacing(2),\n    },\n}));\n\n\nexport default function Home(props) {\n    const classes = useStyles();\n\n    const history = useHistory();\n\n    const [isChatShown, setIsChatShown] = useState(true);\n    const [user, setUser] = useState({});\n    const [owner, setOwner] = useState({});\n    const [userList, setUserList] = useState([]);\n    const [isLoading, setIsLoading] = useState(false);\n    const [userListScrollIsLoading, setUserListScrollIsLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [pageForUserList, setPageForUserList] = useState(1);\n    const [open, setOpen] = useState(false);// for snack bar\n\n    function handleUser(user) {\n        setUser(user);\n    }\n\n    function handleScroll(e) {\n        if (isChatShown === false) {\n            handleScrollForUserList(e);\n        }\n    }\n\n    function handleScrollForUserList(e) {\n        let element = e.target\n        const top = element.scrollTop;\n        if(top === 0)return;\n        if (element.scrollHeight - element.scrollTop === element.clientHeight) {\n            console.log('scrolled down');\n            const token = localStorage.getItem(`token-${owner.email}`);\n            fetchUsers(token, owner);\n            element.scrollTop = top;\n        }\n    }\n\n    function filterUserList(owner, userList) {\n        const newUserList = userList.filter((user) => {\n            if(user.email !== owner.email) {\n                console.log(user.email, owner.email);\n                return user;\n            }\n        });\n        return newUserList;\n    }\n\n    const handleOwner = (owner, userList) => {\n        userList.map((user) => {\n            if (user.email === owner.email) {\n                setOwner(user);\n            }\n        })\n    }\n\n    const fetchUsers = async (accessToken, owner) => {\n        const baseUrl = `${process.env.REACT_APP_AUTH_BASEURL}/api/v1`;\n        const option = {  \n            method: 'get',\n            url: `${baseUrl}/users`,\n            params: {\n                page: pageForUserList,\n                limit: 15\n            },\n            headers: {\n                Authorization: `Bearer ${accessToken}`\n            },\n        };\n        setUserListScrollIsLoading(true);\n        setError('');\n        try {\n            const response = await axios(option);\n            if (response.data) {\n                console.log(response.data);\n                handleOwner(owner, response.data);\n                \n                const currentUserList = filterUserList(owner, response.data);\n                const newUserList = userList.concat(currentUserList);\n                console.log(newUserList.length);\n                setUserList([...newUserList]);\n                setPageForUserList(pageForUserList + 1);\n                setUserListScrollIsLoading(false);\n            }\n        } catch(error) {\n            console.log(error);\n            if(error.response) {\n                setError('something went wrong!');\n            }\n            setUserListScrollIsLoading(false);\n        }\n    }\n\n    useEffect(() => {\n        const data = history.location.state;\n        console.log(data);\n        const profile = data.profile;\n        localStorage.setItem(`token-${profile.email}`, data.accessToken);\n        localStorage.setItem(`userId-${profile.email}`, data.profile._id);\n        setOwner(profile);\n        if(!hasInternetConnection()) {\n            setOpen(true);\n            return;\n        }\n        fetchUsers(data.accessToken, profile);    \n    },[]);\n\n    if(isEmpty(owner) || owner === undefined) {\n        return(\n            <div>\n                <Helmet>\n                    <title> Easy Chat</title>\n                </Helmet>\n            </div>\n        );\n    }\n\n    return (\n        <div>\n            <Helmet>\n                <title> Easy Chat</title>\n            </Helmet>\n            <Snackbar\n                anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n                open={open}\n                onClose={() => setOpen(false)}\n                message=\"There is no internet connection! Please check your internet connection and try again\"\n                autoHideDuration={2000}\n            />\n            <div className={classes.root}>\n                <Grid \n                    container \n                    direction=\"row\" \n                    spacing={1}\n                >\n                    <Grid container item direction=\"col\"xs={4} spacing={1}>\n                        <Grid \n                            item xs={12}\n                            style={{height: '40px', width: '33%', position: 'fixed', marginTop: '0px'}}\n                        >\n                            <LeftTopBar owner={owner}/>\n                        </Grid>\n                        <Grid \n                            container \n                            item xs={12} \n                            style={{\n                                height: '40px', \n                                width: '33%', \n                                position: 'fixed', \n                                marginTop: '42px',\n                                textAlign: 'center'\n                            }}\n                        >\n                            <Grid item xs={6}>\n                                <Button\n                                    variant=\"contained\"\n                                    fullWidth\n                                    style={{textTransform: 'none'}}\n                                    color={isChatShown === true ? 'primary' : 'default'}\n                                    onClick={() => setIsChatShown(true)}\n                                >\n                                    Chats\n                                </Button>\n                            </Grid>\n                            <Grid item xs={6}>\n                                <Button \n                                    variant=\"contained\"\n                                    fullWidth\n                                    style={{textTransform: 'none'}}\n                                    color={isChatShown === true ? 'default' : 'primary'}\n                                    onClick={() => setIsChatShown(false)}\n                                >\n                                    All Users\n                                </Button>\n                            </Grid>\n                        </Grid>\n\n                        <Grid \n                            item \n                            xs={12} \n                            className={classes.list} \n                            onScroll={handleScroll}\n                            style={{position: 'fixed', marginTop: '80px', width: '33%'}}\n                        >\n                            {\n                                isLoading \n                                    ? <p>Loading...</p> \n                                    : error !== ''\n                                        ? <p>Error!!</p>\n                                        : isChatShown === true \n                                            ? <ChatList \n                                                handleUser = { handleUser }\n                                                userList = { userList }\n                                                owner = {owner}\n                                                needToShowChatBox = { isEmpty(user) }\n                                            /> \n                                            : ( \n                                                <Grid container direction='col'>\n                                                    <Grid \n                                                        item \n                                                        xs={12}\n                                                    >\n                                                        <UserList \n                                                            handleUser={ handleUser }\n                                                            userList={ userList }\n                                                        />\n                                                    </Grid>\n                                                    <Grid \n                                                        item \n                                                        xs={12}\n                                                    >\n                                                        {\n                                                            userListScrollIsLoading \n                                                            ? <p>loading..</p>\n                                                            : <p></p>\n                                                        }\n                                                    </Grid>\n                                                </Grid>\n                                            )\n                            }\n                        </Grid>\n                    </Grid>\n                    <Grid item xs={8}>\n                        {\n                            // (isEmpty(user) === false)\n                            //     ? <Chat user = {user} owner = {owner}/>\n                            //     : <div style={{textAlign: 'center'}}>Start Chatting</div>\n                        }   <Chat \n                                user = {user} \n                                owner = {owner}\n                            />  \n                    </Grid>\n                </Grid>\n            </div>\n        </div>\n        \n    );\n}","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Avatar from '@material-ui/core/Avatar';\nimport TextField from '@material-ui/core/TextField';\nimport EmailSharpIcon from '@material-ui/icons/EmailSharp';\nimport PhoneEnabledSharpIcon from '@material-ui/icons/PhoneEnabledSharp';\nimport Dialog from '@material-ui/core/Dialog';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useTheme } from '@material-ui/core/styles';\n\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\nimport {isEmpty} from \"lodash\"\nimport { Helmet } from 'react-helmet';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: theme.spacing(0),\n        maxHeight: '100%'\n    },\n    paper: {\n        marginTop: '10%',\n        marginBottom: '10%',\n        marginLeft: '30%',\n        marginRight: '30%',\n        paddingBottom: '8px',\n        paddingTop: '5px',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    list: {\n        marginTop: theme.spacing(0),\n        maxHeight: '85vh',\n        overflow: 'auto',\n    },\n    option: {\n        marginTop: theme.spacing(2),\n    },\n    large: {\n        width: theme.spacing(10),\n        height: theme.spacing(10),\n    },\n    input: {\n        display: 'none',\n    },\n}));\n\n\nexport default function Profile(props) {\n    const classes = useStyles();\n\n    const history = useHistory();\n    const [locationKeys, setLocationKeys] = useState([])\n\n    const [user, setUser] = useState({});\n    const [owner, setOwner] = useState({});\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [open, setOpen] = useState(false);\n    const [profile, setProfile] = useState({});\n\n    useEffect(() => {\n        const profileData = history.location.state;\n        console.log(profileData);\n        setProfile(profileData);\n    },[]);\n\n    useEffect(() => {\n        return history.listen(location => {\n            history.location.state = {};\n            console.log('action!!');\n            alert('action!');\n            if (history.action === 'PUSH') {\n                setLocationKeys([ location.key ])\n            }\n        \n            if (history.action === 'POP') {\n                console.log('back button is pressed');\n                if (locationKeys[1] === location.key) {\n                    setLocationKeys(([ _, ...keys ]) => keys)\n            \n                    // Handle forward event\n                } else {\n                    setLocationKeys((keys) => [ location.key, ...keys ])\n            \n                    // Handle back event\n                }\n            }\n        });\n    }, [ locationKeys, ]);\n\n    const handleClose = (profile) => {\n        console.log('profile', profile);\n        setOpen(false);\n        setProfile(profile);\n    };\n    \n    if(isEmpty(profile) || profile === undefined) {\n        return(\n            <div>\n                <Helmet>\n                    <title> My Profile</title>\n                </Helmet>\n            </div>\n        );\n    }\n\n    return (\n        <div>\n            <Helmet>\n                <title> My Profile</title>\n            </Helmet>\n            <Paper className={classes.paper} elevation={3}> \n                <Grid \n                    container\n                    direction=\"col\"\n                >\n                    <Grid   \n                        item\n                        xs={12}\n                    >\n                        <Avatar \n                            alt=\"Remy Sharp\" \n                            src={`${process.env.REACT_APP_AUTH_BASEURL}/${profile.profilePicUrl}`} \n                            className={classes.large}\n                            style={{\n                                display: 'block',\n                                marginLeft: 'auto',\n                                marginRight: 'auto'\n                            }}\n                        />\n                    </Grid>\n                    <Grid\n                        item\n                        xs={12}\n                        style={{textAlign: 'center'}}\n                    >\n                        <Typography \n                            variant=\"h4\"\n                            style={{\n                                fontWeight: 'bold',\n                                fontSize: '32px'\n                            }}\n                        >\n                            {profile.name}\n                        </Typography>\n                    </Grid>\n                    <Grid\n                        container\n                        item\n                        xs={12}\n                        direction='row'\n                        style={{\n                            textAlign: 'center',\n                            marginTop: '48px',\n                            height: '30px',\n                        }}\n                    >\n                        <Grid \n                            item \n                            xs={3}\n                            style={{\n                                textAlign: 'center',\n                            }}\n                        >\n                            <Box \n                                style={{\n                                    //backgroundColor: 'gray'\n                                }}\n                            >\n                                <EmailSharpIcon color='primary'/>\n                            </Box>\n                        </Grid>\n                        <Grid item xs={9}>\n                            <Typography \n                                style={{\n                                    textAlign: 'left',\n                                }}\n                            >\n                                { profile.email }\n                            </Typography>\n                        </Grid>\n\n                    </Grid>\n                    <Grid\n                        container\n                        item\n                        xs={12}\n                        direction='row'\n                        style={{\n                            textAlign: 'center',\n                        }}\n                    >\n                        <Grid item xs={3} style={{textAlign: 'center'}}>\n                            <PhoneEnabledSharpIcon color='primary'/>\n                        </Grid>\n                        <Grid item xs={9}>\n                            <Typography \n                                style={{\n                                    textAlign: 'left'\n                                }}\n                            >\n                                { profile.phoneNumber }\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid item xs={12} style={{textAlign: 'center'}}>\n                        <Button \n                            variant=\"contained\" \n                            color=\"primary\"\n                            style={{\n                                width: '50%',\n                                marginTop: '10px'\n                            }}\n                            onClick = {() => setOpen(true)}\n                        >\n                            Edit\n                        </Button>\n                        <EditProfile profile={profile} open={open} onClose={handleClose} />\n                    </Grid>\n                </Grid>\n            </Paper>\n        </div>\n    );\n}\n\nfunction EditProfile(props) {\n    const classes = useStyles();\n\n    const theme = useTheme();\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n\n    const [profile, setProfile] = useState({});\n    const [updatedProfile, setUpdatedProfile] = useState({});\n    const [selectedImage, setSelectedImage] = useState(`${process.env.REACT_APP_AUTH_BASEURL}/${props.profile.profilePicUrl}`);\n    const [isSaving, setIsSaving] = useState(false);\n    const [saveData, setSaveData] = useState(false);\n    const[image, setImage] = useState(null);\n\n    useEffect(() => {\n        if (props.profile) {\n            setProfile(props.profile);\n            setUpdatedProfile(props.profile);\n        }\n\n    }, [props.profile]);\n\n    useEffect(() => {\n        return () => {\n            setProfile({});\n            setUpdatedProfile({});\n        }\n    }, []);\n\n    const handleSelectedImage = (event) => {\n        if (event.target.files && event.target.files[0]) {\n            const img = event.target.files[0];\n            setUpdatedProfile({\n                ...profile,\n                profilePicUrl: img\n            });\n            setImage(img);\n            setSelectedImage(URL.createObjectURL(img));\n        }\n    }\n\n    const handleSave = async () => {\n        const baseUrl = `${process.env.REACT_APP_AUTH_BASEURL}/api/v1`;\n        const token = localStorage.getItem(`token-${profile.email}`);\n        const id = localStorage.getItem(`userId-${profile.email}`);\n        console.log(id);\n        console.log(updatedProfile);\n        \n        const formData = new FormData();\n        formData.append(\"image\", updatedProfile.profilePicUrl);\n        formData.append('name', updatedProfile.name);\n        formData.append('email', updatedProfile.email);\n        formData.append('phoneNumber', updatedProfile.phoneNumber);\n\n        const option = {\n            method: 'PUT',\n            url: `${baseUrl}/users/${id}/`,\n            headers: {\n                Authorization: `Bearer ${token}`,\n                'content-type': 'multipart/form-data'\n                \n            },\n            data: formData\n        };\n\n        try {\n            setIsSaving(true);\n            const response = await axios(option);\n            if (response.data) {\n                setIsSaving(false);\n                setSaveData(false);\n                const updatedUser = response.data;\n                console.log('profile updated sucessfully by data', updatedUser);\n                props.onClose({\n                    name: updatedUser.name,\n                    email: updatedUser.email,\n                    phoneNumber: updatedUser.phoneNumber,\n                    profilePicUrl: updatedUser.profilePicUrl\n                });\n            }\n        } catch(error) {\n            setIsSaving(false);\n            setSaveData(false);\n            console.log(error);\n            props.onClose(profile);\n        }\n    }\n\n    useEffect(() => {\n        if (saveData === true) {\n            handleSave();\n        }\n    }, [saveData]);\n    \n    return (\n        <Dialog \n            onClose = {() => props.onClose(profile)} \n            open = {props.open} \n            fullScreen={fullScreen}\n        >\n        \n            <Grid \n                container\n                direction=\"col\"\n                style={{\n                    marginTop: '10px',\n                    marginBottom: '5px',\n                }}\n            >\n                <Grid   \n                    item\n                    xs={12}\n                >\n                    <Avatar \n                        alt={profile.name} \n                        src={selectedImage} \n                        className={classes.large}\n                        style={{\n                            display: 'block',\n                            marginLeft: 'auto',\n                            marginRight: 'auto',\n                        }}\n                    />\n                </Grid>\n                <Grid   \n                    item\n                    xs={12}\n                >\n                    <input\n                        accept=\"image/*\"\n                        className={classes.input}\n                        id=\"img-upload\"\n                        multiple\n                        type=\"file\"\n                        onChange = { handleSelectedImage }\n                    />\n                    <label htmlFor=\"img-upload\">\n                        <Button \n                            variant=\"outlined\" \n                            color=\"primary\" \n                            component=\"span\"\n                            style={{\n                                marginTop: '10px',\n                                display: 'block',\n                                marginLeft: 'auto',\n                                marginRight: 'auto',\n                                width: '20%',\n                                textAlign: 'center',\n                            }}\n                        >\n                            Upload\n                        </Button>\n                    </label>\n                </Grid>\n                <Grid\n                    container\n                    item\n                    xs={12}\n                    direction='col'\n                    spacing={2}\n                    style={{\n                        paddingTop: '20px',\n                        marginLeft: '10%',\n                        marginRight: '10%',\n                    }}\n                >   \n                    <Grid\n                        item\n                        xs={12}\n                    >\n                        <EditField \n                            name='Name' \n                            value={updatedProfile.name}\n                            onEdit = {(name) => setUpdatedProfile({\n                                ...updatedProfile, \n                                name: name\n                            })}\n                        />\n                    </Grid>\n                    <Grid\n                        item\n                        xs={12}\n                    >\n                        <EditField \n                            name='Email' \n                            value={updatedProfile.email}\n                            onEdit = {(email) => setUpdatedProfile({\n                                ...updatedProfile, \n                                email: email\n                            })}\n                        />\n                    </Grid>\n                    <Grid\n                        item\n                        xs={12}\n                    >\n                        <EditField \n                            name='Phone' \n                            value={updatedProfile.phoneNumber}\n                            onEdit = {(phoneNumber) => setUpdatedProfile({\n                                ...updatedProfile, \n                                phoneNumber: phoneNumber\n                            })}\n                        />\n                    </Grid>\n                </Grid>\n                <Grid item xs={12}>\n                {\n                    isSaving === true \n                        ?   <div style={{textAlign: 'center'}}>\n                                <CircularProgress/>\n                            </div>\n                        :   <Grid\n                                container\n                                spacing = {3}\n                                style={{\n                                    marginTop: '10px'\n                                }}\n                                direction='row'\n                            >\n                                <Grid item xs={6} style={{textAlign: 'center'}}>\n                                    <Button \n                                        variant=\"outlined\" \n            \n                                        color=\"primary\"\n                                        style={{\n                                            // width: '20%',\n                                        }}\n                                        onClick = { () =>  setSaveData(true)}\n                                    >\n                                        SAVE\n                                    </Button>\n                                </Grid>\n                                <Grid item xs={6} style={{textAlign: 'center'}}>\n                                    <Button \n                                        variant=\"outlined\" \n                                        style={{\n                                            // width: '20%',\n                                        }}\n                                        onClick = {() =>  props.onClose(profile) }\n                                    >\n                                        CANCEL\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                }\n                </Grid>\n            </Grid>\n        </Dialog>\n    );\n}\n\nconst EditField = (props) => {\n    const [value, setValue] = useState(props.value);\n\n    if (props.value === undefined) {\n        return(\n            <p></p>\n        );\n    }\n    return(\n        <Grid\n            container\n            item \n            xs={12}\n            style={{\n                \n            }}\n        >\n            <Grid item xs={2} style={{textAlign: 'left', marginTop: '5px'}}>\n                <Typography \n                    variant='body1'\n                >\n                    {props.name}\n                </Typography>\n            </Grid>\n            <Grid item xs={10} style={{textAlign: 'left'}}>\n                <TextField \n                    id=\"outlined-basic\"  \n                    variant=\"outlined\"\n                    fullWidth \n                    disabled\n                    value={props.value + '  (disabled)'}\n                    size='small'\n                    onChange={(e) => props.onEdit(e.target.value)}\n                />\n            </Grid>\n        </Grid>\n    );\n}","import React, { useEffect, useState } from 'react';\n\nexport default function Timer(props) {\n    const [time, setTime] = useState(props.time);\n\n    useEffect(() => {\n        const interval = setInterval(() => setTime(time - 1), 1000);\n        if (time === 0) {\n            clearInterval(interval);\n            props.handleTime(time);\n        }\n        return () =>  {\n            //setChatList([]);\n            clearInterval(interval);\n        }\n\n    });\n    return (\n        <span>\n            {time}\n        </span>\n    );\n}","import React, { useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport axios from 'axios';\nimport { Helmet } from 'react-helmet';\nimport {isEmpty} from \"lodash\";\nimport {\n    useHistory\n} from \"react-router-dom\";\n\nimport { hasInternetConnection } from './../util';\nimport { isDigit } from './../util';\nimport Timer from './../utility/Timer';\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(10),\n        //display: 'flex',\n        //flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        //backgroundColor: 'red',\n        width: theme.spacing(10),\n        height: theme.spacing(10),\n        margin: 'auto',\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nexport default function EmailVerify(props) {\n    const classes = useStyles();\n\n    const history = useHistory();\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const [user, setUser] = useState({});\n    const [data, setData] = useState({});\n    const [disabled, setDisabled] = useState(true);\n    const [resendDisabled, setResendDisabled] = useState(true);\n    const [id_otp, setId] = useState('');\n    const [otp, setOtp] = useState('');\n\n    const handleTime = (timer) => {\n        if (timer === 0) {\n            setResendDisabled(false);\n        }\n    }\n    \n    const handleChange = (e) => {\n        setError('');\n        const value = e.target.value;\n        if(isDigit(value) === false) {\n            setError('OTP contains only digits');\n            return;\n        }\n        if(value.length > 0) {\n            setDisabled(false);\n            setOtp(value);\n        } else {\n            setDisabled(true);\n        }\n    }\n\n    useEffect(() => {\n        const data = history.location.state;\n        setData(data);\n        console.log('sign up data: ', data);\n    }, []);\n\n    useEffect(() => {\n        if (isEmpty(data)) {\n            return;\n        }\n        const requestForotp = async () => {\n            const baseUrl =`${process.env.REACT_APP_AUTH_BASEURL}/api/v1`;\n            const option = {\n                method: 'post',\n                url: `${baseUrl}/auth/otps/request`,\n                data: { email: data.email }\n            };\n\n            try {\n                const response = await axios(option);\n                if (response.status === 201) {\n                    setId(response.data.id);\n                }\n            } catch(error) {\n                console.log(error);\n            }\n        };\n        requestForotp();\n    }, [data]);\n\n    const signup = async () => {\n        const baseUrl = `${process.env.REACT_APP_AUTH_BASEURL}/api/v1`;\n        const option = {\n            method: 'post',\n            url: `${baseUrl}/users/`,\n            data: data,\n        };\n        try {\n            const response = await axios(option);\n            console.log(response.data);\n            if (response.status === 201) {\n                history.push('/signin');\n            }\n        } catch(error) {\n            console.log(error.response);\n        }\n    }\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n        if (!hasInternetConnection(true))return;\n        setError('');\n        \n        const baseUrl = `${process.env.REACT_APP_AUTH_BASEURL}/api/v1`;\n        const option = {\n            method: 'post',\n            url: `${baseUrl}/auth/otps/verify`,\n            data: {\n                id: id_otp,\n                otp: otp\n            }\n        };\n\n        setIsLoading(true);\n        try {\n            const response = await axios(option);\n            if (response.status === 200) {\n                console.log(response.data);\n                await signup();\n            }\n            setIsLoading(false);\n        } catch(error) {\n            if(error.response) {\n                console.log(error.response);\n                const message = error.response.data\n                    ? error.response.data\n                    : error.response.statusText;\n                setError(message);\n            }\n            setIsLoading(false);\n        }\n    }\n\n    const manageTimerPart = () => {\n        if (resendDisabled) {\n            return <span> after <Timer time={60} handleTime = { handleTime }/> s</span>;\n        } else {\n            return <span> now</span>;\n        }\n    }\n\n    if (isEmpty(data)) {\n        return <p></p>\n    }\n\n    return (\n        <div>\n            <Helmet>\n                <title> Email Verification</title>\n            </Helmet>\n            <CssBaseline />\n            <div\n                style={{\n                    marginTop: '10%',\n                    marginLeft: '30%',\n                    marginRight: '30%',\n                    backgroundColor: 'white',\n                    border: '1px solid black',\n                    borderRadius: '8px',\n                }}\n            >\n                <Grid\n                    container\n                    style={{padding: '20px'}}\n                >\n                    <Grid\n                        item\n                        xs={12}\n                    >\n                        <Typography variant='h5'>\n                            Enter the code from your email\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} style={{marginTop: '20px'}}>\n                        <Typography variant='subtitle1'>\n                            {`Let us know that this email address belongs to you. Enter the code from the email sent to `}\n            <span style={{fontWeight: 'bold'}}>{data.email}</span>\n                        </Typography>\n                    </Grid>\n                    <Grid \n                        container \n                        item xs={12} \n                        style={{ margin: 'auto'}}\n                        spacing={1}\n                    >\n                        <Grid item xs={6}>\n                            <TextField\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                required\n                                onChange={ handleChange }\n                            />\n                        </Grid>\n                        <Grid item xs={6} style={{margin: 'auto'}}>\n                            <Button \n                                variant=\"contained\" \n                                color='primary'\n                                disabled={ resendDisabled }\n                                style={{\n                                    // width: '20%',\n                                    textTransform: 'none'\n                                }}\n                                //onClick = {() =>  props.onClose(profile) }\n                            >\n                                Resend\n                            </Button>\n                            { manageTimerPart() }\n                        </Grid>\n                    </Grid>\n                    { error && \n                            <Grid item xs={12}>\n                                <div style={{color: 'red'}}>{error}</div>\n                            </Grid>\n                    }\n                    <Grid item xs={12} style={{}}>\n                        <Button \n                            variant=\"contained\" \n                            color='primary'\n                            disabled={disabled}\n                            fullWidth\n                            style={{\n                                // width: '20%',\n                                textTransform: 'none'\n                            }}\n                            onClick = { handleSubmit }\n                        >\n                            { isLoading ? 'Submitting..' : 'Submit'}\n                        </Button>\n                    </Grid>\n                    \n                </Grid>\n                \n            </div>\n        </div>\n    );\n}","import React, {useState} from 'react';\nimport Signin from './authentication/Signin';\nimport SignUp from './authentication/Signup';\nimport Home from './home/home';\nimport Profile from './profile/Account';\nimport EmailVerify from './authentication/EmailVerify';\n\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n} from \"react-router-dom\";\n\nfunction App() {\n    const [user, setUser] = useState({});\n    const [accessToken, setAccessToken] = useState('');\n\n    function handleUser(data) {\n        const localUser = data.profile;\n        localUser.profilePic = data.profile.name;\n        setUser(localUser);\n        setAccessToken(data.accessToken);\n    }\n\n    return(\n        <Router>\n            <div>\n                <Switch>\n                    <Route path=\"/signin\">\n                        <Signin handleUser = {handleUser}/>\n                    </Route>\n                    <Route path=\"/signup\" exact>\n                        <SignUp />\n                    </Route>\n                    <Route path=\"/signup/email-verify\">\n                        <EmailVerify/>\n                    </Route>\n                    {/* <Route path=\"/\" exact>\n                        <SignUp />\n                    </Route> */}\n                    <Route path=\"/home\" exact>\n                        <Home/>\n                    </Route>\n                    <Route path=\"/profile\">\n                        <Profile/>\n                    </Route>\n                </Switch>\n            </div>\n            \n        </Router>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nif (process.env.NODE_ENV !== \"development\")\n    console.log = () => {};\n    \nReactDOM.render(\n  <React.Fragment>\n      <App/>\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}